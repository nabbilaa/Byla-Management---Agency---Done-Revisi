<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <!-- Favicons -->
    <link href="assets/img/BYLA-LB.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <meta charset="UTF-8">
    <title> Sign-Up for Contributor Byla</title>
    <link rel="stylesheet" href="assets/log-in/sign-up.css">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
<body>
  <div class="container">
    <div class="title">Registration</div>
    <div class="content">
      <form action="#">
        <div class="user-details">
          <div class="input-box">
            <span class="details">Full Name</span>
            <input type="text" id="fullName" placeholder="Enter your name" required>
          </div>
          <div class="input-box">
            <span class="details">Username</span>
            <input type="text" id="username" placeholder="Enter your username" required>
          </div>
          <div class="input-box">
            <span class="details">Email</span>
            <input type="email" id="email" placeholder="Enter your email" required>
          </div>
          <div class="input-box">
            <span class="details">Phone Number</span>
            <input type="tel" id="phoneNumber" placeholder="Enter your number" required>
          </div>
          <div class="input-box">
            <span class="details">Password</span>
            <input type="password" id="password" placeholder="Enter your password" required>
          </div>
          <div class="input-box">
            <span class="details">Confirm Password</span>
            <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
          </div>
        </div>
        <div class="gender-details">
          <input type="radio" name="gender" id="dot-1">
          <input type="radio" name="gender" id="dot-2">
          <input type="radio" name="gender" id="dot-3">
          <span class="gender-title">Gender</span>
          <div class="category">
            <label for="dot-1">
            <span class="dot one"></span>
            <span class="gender">Male</span>
          </label>
          <label for="dot-2">
            <span class="dot two"></span>
            <span class="gender">Female</span>
          </label>
          <label for="dot-3">
            <span class="dot three"></span>
            <span class="gender">Prefer not to say</span>
            </label>
          </div>
        </div>
        <div class="button">
          <button type="register" onclick="register()">Register</button>
      </form>
    </div>
    <script>
      document.getElementById('registrationForm').addEventListener('submit', function(event) {
          event.preventDefault();

          const fullName = document.getElementById('fullName').value;
          const username = document.getElementById('username').value;
          const email = document.getElementById('email').value;
          const phoneNumber = document.getElementById('phoneNumber').value;
          const password = document.getElementById('password').value;
          const confirmPassword = document.getElementById('confirmPassword').value;
          const gender = document.querySelector('input[name="gender"]:checked').value;

          if (password !== confirmPassword) {
              alert('Passwords do not match');
              return;
          }

          fetch('/register', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({ fullName, username, email, phoneNumber, password, gender })
          })
          .then(response => response.text())
          .then(data => {
              if (data === 'User registered successfully') {
                  alert(data);
                  window.location.href = '/login.html'; // Redirect to login page
              } else {
                  alert(data);
              }
          })
          .catch(error => console.error('Error:', error));
      });
  </script>
</body>
</html>